<app-window
  wm_draggable
  windowTitle="Edit tags"
  windowIconUrl="/assets/tag-s.png"
  (closeClicked)="close()"
  [close]="true"
  [minimize]="false"
  [maximize]="false">
  <div class="box">
    <div class="content">
      <div class="list">
        <div>
          <app-input
            [(text)]="searchString"
            (keydown)="filterTags()"
            type="text"
            [row]="true"
            caption="Filter tags"></app-input>
        </div>
        <div>
          <app-list-small
            label="Tags"
            (itemClicked)="editTag($event)"
            [items]="filteredTags()"
          ></app-list-small>
        </div>
      </div>
      <div class="editor">
        <div></div>
        <div class="editor-fields">
          <div>
            <admin-tag-editor-field
              *ngIf="nowEditingTag != null"
              (onTagDelete)="deleteTag($event)"
              (onTagUpdate)="updateTag($event)"
              [tag]="nowEditingTag">
            </admin-tag-editor-field>
          </div>
          <hr *ngIf="nowEditingTag != null">
          <div class="add-tag-field">
            <app-input
              [(text)]="newTagName"
              caption="Create new tag"></app-input>
            <div class="controls">
              <app-button
                [disabled]="newTagName == ''"
                (click)="createNewTag()"
                caption="Create"></app-button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="controls">
      <app-button
        (click)="close()"
        caption="Close"></app-button>
    </div>
  </div>
</app-window>
